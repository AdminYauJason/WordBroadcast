import{p as e,c as a,w as t,i as s,o,a as r,e as l,b as d,d as c,F as n,f as i,t as u}from"./index-BFSQzsUc.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=f({data:()=>({liveRecords:[]}),onLoad(){this.fetchLiveRecords()},methods:{async fetchLiveRecords(){try{const a="用户手机号",t=e.database(),s=await t.collection("live-record").where({userPhone:a}).get();s.data&&s.data.length>0?this.liveRecords=s.data:console.log("没有找到直播记录")}catch(a){console.error("获取直播记录失败:",a)}},formatTime(e){const a=new Date(e);return`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()} ${a.getHours()}:${a.getMinutes()}`}}},[["render",function(e,f,_,h,m,g){const p=i,v=s;return o(),a(v,{class:"container"},{default:t((()=>[r(v,{class:"header"},{default:t((()=>[r(p,null,{default:t((()=>[l("直播记录")])),_:1})])),_:1}),r(v,{class:"record-list"},{default:t((()=>[(o(!0),d(n,null,c(m.liveRecords,(e=>(o(),a(v,{key:e._id,class:"record-item"},{default:t((()=>[r(p,null,{default:t((()=>[l("直播间ID: "+u(e.roomId),1)])),_:2},1024),r(p,null,{default:t((()=>[l("开始时间: "+u(g.formatTime(e.startTime)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}],["__scopeId","data-v-4f7d1b64"]]);export{_ as default};
