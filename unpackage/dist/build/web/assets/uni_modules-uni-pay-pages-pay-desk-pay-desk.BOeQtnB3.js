import{p as e,m as t,N as a,O as r,A as o,C as i,G as s,x as p,o as n,c,w as l,a as d,e as u,t as f,z as y,k as m,n as h,i as g,K as _,g as A,f as P,R as v}from"./index-BFSQzsUc.js";import{_ as w,a as C}from"./uni-list.CxxeKbhT.js";import{r as k}from"./uni-app.es.CkwVFIy4.js";import{_ as O}from"./uni-popup.Vqszy5FZ.js";import{u as x}from"./js_sdk.Dqq72uFy.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.Di0C3xcn.js";const R=e.importObject("uni-pay-co");const B=b({name:"uni-pay",emits:["success","cancel","fail","create","mounted","qrcode"],props:{adpid:{Type:String,default:""},toSuccessPage:{Type:Boolean,default:!0},returnUrl:{Type:String,default:""},mainColor:{Type:String,default:""},mode:{Type:String,default:""},logo:{Type:String,default:"/static/logo.png"},height:{Type:[String],default:"70vh"},debug:{Type:Boolean,default:!1}},data:()=>({options:{},res:{},images:{wxpay:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABC9JREFUeF7tWk1a20AMlUzv0bDr13AAYAOcpLCBcoqQU1DYEE6C2QAHIP26q3sPPOqniU2cZMYj+SeGxN5kEXlm9ObpjaQxwpY/uOX+Qw9Az4AtR6APgS0nQC+CfQi0FQLfrvcHXwAGPP4bQMK/fy5f7O9HehphwPfb/dOIogEhHQHBcamDCDESPoIxMQPTNSi1ABj+OrwDpNMaO5og4P2bMZOugFADwNTewWhU0/FVzAgnKZnxuoFQAbB3vX9MET7U2PHgq4R09vv8ZRI0bMhADMDw9uAhGN8NLQrWyAYRAGt1PgcRIU5TOms7JIIAdOL8nElJauikTRBKAdi7ObwioFFTzHaMw3mBzRV8DwKOXy+ertpagxcAq/YR/g2d6TlNrUDu4EiiE0Why4T1rgyINoXRC4DgjE+mF8+7RYAkp4RrRyVztRUKTgCkuz89fz4pAiB5z7WbklBrKxScAEgWxI6joZPXy5c4B0H0nkPdhzcHFIxxhHgZ8OA7AgMnAMObA479UnF6H5twQpF5RBMdibPDvB4AAAL6IZ0rNbTb9IngAyC8IwJ0K5okQBgzqFEKSV4wcXg17bxl8fIiJXFc0bHAgYLjYlHEFaZlVUQDoAIbcVZaN1VRrgAgUfImASiKW6Yh4pAohmHVQqpLABI0dMYiKhJPCeoV0ueuQsDmEJrkSeJ/bqNJnOqfApqVzWznzrdYWkvzhnUDYGnPKLTdV5gpfLiOqJUIaTefF8RKH6wxtAOX2IdA8NcCmmRItmBLfVF5jRBnR58kGQtWlGUJlBeAxpQ5A4eFKTu/ufLzPQv1f2mRRDiZ/nyyYwYrypI0OlQOc/9PsgshDsh2v+BUwTFnD3K5DglVlD4WlDZEsqywNgiK2F9gQBkLi7EtyV59WhBsiTURCjy5QZMgYRn9cxbZWgCQ+IKlnH2sFQYTURHmCYMgAJaKs9aYPkXNXGK6QhQdt9xeC4UhTC+eV/wVASASmrKj6IMA4NIBMQDsX1VN4IlbuU0K7vmiQS0G5EOpmiW6I1Dpjtp8pYc5yxYVj0RtXcMJcwDFSiqYLh2x+QgqAJwnAuEEydxbkZtdj+fKPVfwbPIq7KngqvMVX4WoAmDBAcH9HTMmXw23s0LJSlPOOsZx0l8VAu/0Fzjuc2Td3aY5zf1VoZgBvPgmvuhoIrFSMSXQThcDoJo0YLxGLfBSv5IINgVC1XxCOb/oZrkTBtRJqkQgKG6ROgPgPbGq/6HVIiYK51WngAj5ikbBhoZi3FALbHmozhlQXFChTc75g6wRM2ufzb9N/IwMcG0wg8HZJf9HBF/tFZnBBBH+cW/BpBDnd4XLDNJcon4oBiiY7jS194mEI0IaSz+12ygAclSYEcXvFsqA3UgANEzqAdCgtYm2PQM2cVc1PvUM0KC1ibY9AzZxVzU+bT0D/gPs/oxfcUEcJAAAAABJRU5ErkJggg==",alipay:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAA2FJREFUeF7tmU122jAQx2cMB2hp9yULeK+naHISwhJyiIRDBJaQkwRO0fdgEWff0h4ANH0yFc+m+hhbckKNvJUsaX76z4ckhAv/8MLthwggKuDCCUQXuHABxCAYXSC6wIUTiC7wFgL4MPveTaj9optrO+696ya8yeQRQFRAdIEYAxoVBD/PNtdCwHWpDIJwr+1PMCk1DgAkCSx/jHrLsv/p+lfKAp3HzQOYDAqxKtcYBJPtXe/B1Y3TXgmATGst0WIrgAC7JmBINOQsNN8HE0zfVQFlFxzrgFgHNLQOkNJuQ7vrcgkS1CXEua5fgnDj+l+172CX/h59Tbn9Of0qBUE1cGe2ngPhLWeiEH0krFDBT63HC8Cnx/VtFuFDfgl90UOldDvuX4WcSo7lBSD0YuR4H6ebZwRNkRUw9xdSah1G+IzZmW5IW7ERDX/e9Rc+YwerBEMvQo1nrhfqkf/ZuYCxxK5J/t4AjkFQBi71CXxFoFSWq2XTlkn+AndXodNf5SwgT4J7gnttoNL6BqUEmCZET/tkvzQZYj5g1Sf/0goIkfcJYIkEK5HsFnkYnen6BXQptUb5lwJgMz4zCihXD/BqAwVDuoy+Uqx399kACrkZaYECVjY5qxJZXpoQwrcDHB6UghfVvPssAMo35W4R7oZVg5EMmAJxUCZ2CNzfVJ2Pm6qdleDBNwFClaHZdRrQAEhWe25VSPCuAMo1tnQhdIzMNUixfDYBqAOGVQEKQB15OFMCwXPV3QsFww7g73E39Pudr/Gn0EyplQPXCkBF/5AKsBtPKRA+AdKAEx/0BhYLL9nHFkhZLiBvbkOcxFzG5wPtoe7gBUrrTiMttqO+8ebZCkAtWErs17jHvrrSLcj+lkCpKeV5g/ABIA05lqgVM4Er2nPhZgev7DHGnToLG+ALIC9budgWwoRzyuMUPlzj8waVBuELIFOB5iksi7xIKQh8PS4wu8/j+a3vBScbRAgABVfg5BZbH6SFgP0kVIl7UCjNja4RCkAGwecaPLDhp4yNsSYkADlp/mncdNLLu8fpud9XQK7//wERGoBrAefSfgRBsLI9pTtPg+diUNV1yLuJypVg1Un/p/8arwDXZkQALkJNb48KaPoOu+yLCnARanp7VEDTd9hlX1SAi1DT2/8AaakVXysj5qkAAAAASUVORK5CYII="},originalRroviders:["wxpay","alipay"],currentProviders:["wxpay","alipay"],openid:""}),async mounted(){let e=await this.getPayProviderFromCloud();0===e.errCode&&(this.originalRroviders=e.provider,this.currentProviders=JSON.parse(JSON.stringify(this.originalRroviders))),this.$emit("mounted",{images:this.images,originalRroviders:this.originalRroviders,currentProviders:this.currentProviders})},methods:{async open(e={}){if(e.provider){let t=[];this.originalRroviders.map(((a,r)=>{e.provider.indexOf(a)>-1&&t.push(a)})),this.currentProviders=t,delete e.provider}else this.currentProviders=JSON.parse(JSON.stringify(this.originalRroviders));this.options=e,1===this.currentProviders.length?this.createOrder({provider:this.currentProviders[0]}):("pc"===this.modeCom&&this._pcChooseProvider(this.currentProviders[0]),this.openPopup("payPopup"))},async createOrder(e={}){let{options:t}=this;if(Object.assign(t,e),"appleiap"===t.provider)return this._appleiapCreateOrder(t);["pc","pc-weixin"].indexOf(x.checkPlatform())>-1&&(t.qr_code=!0);let a={provider:t.provider,total_fee:t.total_fee,openid:undefined,order_no:t.order_no,out_trade_no:t.out_trade_no,description:t.description,type:t.type,qr_code:t.qr_code,custom:t.custom,other:t.other,wxpay_virtual:t.wxpay_virtual};t.openid&&"wxpay"===t.provider&&(a.openid=t.openid);try{let e=await R.createOrder(a);e.errCode?this.$emit("fail",e):(this.$emit("create",e),e.qr_code&&!t.cancel_popup?(this.res=e,"pc"===this.modeCom?(this.openPopup("payPopup"),this._pcChooseProvider(t.provider)):this.openPopup("qrcodePopup")):this.orderPayment(e))}catch(r){this.$emit("fail",r)}},orderPayment(e){if(this.res=e,e.qr_code)this.$emit("qrcode",e);else if(e.order)if("jsapi"===e.provider_pay_type)WeixinJSBridge.invoke("getBrandWCPayRequest",e.order,(e=>{"get_brand_wcpay_request:ok"==e.err_msg?this._getOrder():"get_brand_wcpay_request:cancel"==e.err_msg?this.$emit("cancel",e):"get_brand_wcpay_request:fail"==e.err_msg&&(console.error("getBrandWCPayRequest-fail: ",e),this.$emit("fail",e))}));else{let t=e.order.codeUrl,a=e.order.h5Url||e.order.mwebUrl||e.order.mweb_url;setTimeout((()=>{this.openPopup("payConfirmPopup"),window.location.href=t||a}),200)}},openPopup(e){this.$refs[e].showPopup||this.$refs[e].open()},closePopup(e){this.$refs[e].close()},async getOrder(e={}){try{let t=await R.getOrder(e);return"function"==typeof e.success&&e.success(t),t}catch(t){"function"==typeof e.fail&&e.fail(t)}},async refund(e={}){try{let t=await R.refund(e);return"function"==typeof e.success&&e.success(t),t}catch(t){"function"==typeof e.fail&&e.fail(t)}},async getRefund(e={}){try{let t=await R.getRefund(e);return"function"==typeof e.success&&e.success(t),t}catch(t){"function"==typeof e.fail&&e.fail(t)}},async closeOrder(e={}){try{let t=await R.closeOrder(e);return"function"==typeof e.success&&e.success(t),t}catch(t){"function"==typeof e.fail&&e.fail(t)}},async getPayProviderFromCloud(e={}){try{let t=await R.getPayProviderFromCloud(e);return"function"==typeof e.success&&e.success(t),t}catch(t){"function"==typeof e.fail&&e.fail(t)}},async getProviderAppId(e={}){try{let t=await R.getProviderAppId(e);return"function"==typeof e.success&&e.success(t),t}catch(t){"function"==typeof e.fail&&e.fail(t)}},async getOpenid(e={}){try{let t=await R.getOpenid(e);return"function"==typeof e.success&&e.success(t),t}catch(t){"function"==typeof e.fail&&e.fail(t)}},async verifyReceiptFromAppleiap(e={}){try{let t=await R.verifyReceiptFromAppleiap(e);return"function"==typeof e.success&&e.success(t),t}catch(t){"function"==typeof e.fail&&e.fail(t)}},async getCode(){},paySuccess(e={}){this.closePopup("payPopup"),this.closePopup("payConfirmPopup"),this.clearQrcode(),this.toSuccessPage&&this.pageToSuccess(e),this.$emit("success",e)},pageToSuccess(e){if("pc"!==this.modeCom)t({url:`/uni_modules/uni-pay/pages/success/success?out_trade_no=${e.out_trade_no}&order_no=${e.pay_order.order_no}&pay_date=${e.pay_order.pay_date}&total_fee=${e.pay_order.total_fee}&adpid=${this.adpid}&return_url=${this.returnUrl}&main_color=${this.mainColor}`});else if(this.returnUrl){let a=this.returnUrl+`?out_trade_no=${e.out_trade_no}&order_no=${e.pay_order.order_no}`;0!==a.indexOf("/")&&(a=`/${a}`),t({url:a})}},clearQrcode(){this.res.codeUrl="",this.res.qr_code_image=""},async _getOrder(){this.getOrder({out_trade_no:this.res.out_trade_no,await_notify:!0,success:e=>{e.has_paid&&(this.closePopup("qrcodePopup"),this.paySuccess(e))}})},_afreshPayment(){this.orderPayment(this.res)},_pcChooseProvider(e){if(e!==this.options.provider)return this.createOrder({provider:e})},async _appleiapCreateOrder(e){let t=new appleiapSdk.Iap({products:[e.productid]});a({title:"加载中..."}),await t.init();let o=(await t.getProduct())[0];e.total_fee=100*o.price,e.description=o.description;let i={provider:e.provider,total_fee:e.total_fee,order_no:e.order_no,out_trade_no:e.out_trade_no,description:e.description,type:e.type,custom:e.custom},s=await R.createOrder(i);if(0===s.errCode){this.$emit("create",s),this.res=s,a({title:"支付请求中..."});try{this.debug&&console.log("正在请求苹果服务器",e.productid,s.out_trade_no);let o=await t.requestPayment({productid:e.productid,username:s.out_trade_no});if(this.debug&&console.log("用户支付成功",o),a({title:"正在处理支付结果..."}),o.payment.username||(o.payment.username=this.getAppleiapUserName(o)),!o.payment.username)return await t.finishTransaction(o),r(),console.log("您可能已支付成功，但很抱歉丢单了，请联系客服处理。",o),!1;this.addAppleiapOrder(o);let i=await this.verifyReceiptFromAppleiap({out_trade_no:o.payment.username,transaction_receipt:o.transactionReceipt,transaction_identifier:o.transactionIdentifier});0===i.errCode&&(await t.finishTransaction(o),this.removeAppleiapOrder(o),r(),this.paySuccess(i))}catch(p){2===(p.errCode||p.code)?(this.debug&&console.log("用户取消支付"),this.$emit("cancel",p)):(console.error("appleiapCreateOrder:fail",p),this.$emit("fail",p)),r()}}},async appleiapRestore(){a({title:"检测支付环境..."});let e=new appleiapSdk.Iap;await e.init();try{this.debug&&console.log("正在查询是否有漏单信息");const t=await e.restoreCompletedTransactions({username:""});if(this.debug&&console.log("漏单查询结果："+(0===t.length?"未漏单":"有漏单"),t),!t.length)return;for(let a=0;a<t.length;a++){let r=t[a];switch(r.transactionState){case appleiapSdk.IapTransactionState.purchased:if(r.payment.username||(r.payment.username=this.getAppleiapUserName(r)),!r.payment.username){await e.finishTransaction(r),console.log("您可能已支付成功，但很抱歉丢单了，请联系客服处理。",r);continue}console.log("requestPaymentRes: ",r);let t=await this.verifyReceiptFromAppleiap({out_trade_no:r.payment.username,transaction_receipt:r.transactionReceipt,transaction_identifier:r.transactionIdentifier});console.log("verifyRes: ",t),0===t.errCode&&(console.log("完结订单："+r.payment.username),await e.finishTransaction(r),this.removeAppleiapOrder(r));break;case appleiapSdk.IapTransactionState.failed:await e.finishTransaction(r)}}}catch(t){console.error(t)}finally{r()}},addAppleiapOrder(e){let t="uni-pay-appleiap-order",a=o(t)||[];a.push(e),i(t,a)},getAppleiapUserName(e){let t=(o("uni-pay-appleiap-order")||[]).find((t=>t.transactionIdentifier===e.transactionIdentifier&&t.transactionDate===e.transactionDate));return t&&t.payment&&t.payment.username},removeAppleiapOrder(e){let t="uni-pay-appleiap-order",a=o(t)||[],r=a.findIndex((t=>t.transactionIdentifier===e.transactionIdentifier&&t.transactionDate===e.transactionDate));r>-1&&a.splice(r,1),i(t,a)}},watch:{},computed:{modeCom(){if(this.mode)return this.mode;let e=s();return e&&"pc"===e.deviceType?"pc":"mobile"}}},[["render",function(e,t,a,r,o,i){const s=g,v=_,x=A,b=P,R=k(p("uni-popup"),O),B=k(p("uni-list-item"),w),I=k(p("uni-list"),C);return n(),c(s,{class:"uni-pay"},{default:l((()=>["pc"===i.modeCom?(n(),c(R,{key:0,ref:"payPopup",type:"center","safe-area":!1},{default:l((()=>[d(s,{class:"pc-pay-popup"},{default:l((()=>[d(s,{class:"pc-pay-popup-title"},{default:l((()=>[u("收银台")])),_:1}),d(s,{class:"pc-pay-popup-flex"},{default:l((()=>[d(s,{class:"pc-pay-popup-qrcode-box"},{default:l((()=>[d(v,{class:"pc-pay-popup-qrcode-image",src:o.res.qr_code_image},null,8,["src"]),d(s,{class:"pc-pay-popup-amount-box"},{default:l((()=>[d(s,{class:"pc-pay-popup-amount-tips"},{default:l((()=>[u("扫一扫付款")])),_:1}),d(s,{class:"pc-pay-popup-amount"},{default:l((()=>[u(f((o.options.total_fee/100).toFixed(2)),1)])),_:1})])),_:1}),o.res.qr_code_image?(n(),c(s,{key:0,class:"pc-pay-popup-complete-button"},{default:l((()=>[d(x,{type:"primary",onClick:t[0]||(t[0]=e=>i._getOrder())},{default:l((()=>[u("我已完成支付")])),_:1})])),_:1})):y("",!0)])),_:1}),d(s,{class:"pc-pay-popup-provider-list"},{default:l((()=>[o.currentProviders.indexOf("wxpay")>-1?(n(),c(s,{key:0,class:m(["pc-pay-popup-provider-item","wxpay"==o.options.provider?"active":""]),onClick:t[1]||(t[1]=e=>i._pcChooseProvider("wxpay"))},{default:l((()=>[d(v,{src:o.images.wxpay,class:"pc-pay-popup-provider-image"},null,8,["src"]),d(b,{class:"pc-pay-popup-provider-text"},{default:l((()=>[u("微信支付")])),_:1})])),_:1},8,["class"])):y("",!0),o.currentProviders.indexOf("alipay")>-1?(n(),c(s,{key:1,class:m(["pc-pay-popup-provider-item","alipay"==o.options.provider?"active":""]),onClick:t[2]||(t[2]=e=>i._pcChooseProvider("alipay"))},{default:l((()=>[d(v,{src:o.images.alipay,class:"pc-pay-popup-provider-image"},null,8,["src"]),d(b,{class:"pc-pay-popup-provider-text"},{default:l((()=>[u("支付宝支付")])),_:1})])),_:1},8,["class"])):y("",!0),d(s,{class:"pc-pay-popup-logo"},{default:l((()=>[d(v,{src:a.logo,mode:"widthFix"},null,8,["src"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512)):(n(),c(R,{key:1,ref:"payPopup",type:"bottom","safe-area":!1},{default:l((()=>[d(s,{class:"mobile-pay-popup",style:h("min-height: "+a.height+";")},{default:l((()=>[d(s,{class:"mobile-pay-popup-title"},{default:l((()=>[u("收银台")])),_:1}),d(s,{class:"mobile-pay-popup-amount-box"},{default:l((()=>[d(s,null,{default:l((()=>[u("待支付金额：")])),_:1}),d(s,{class:"mobile-pay-popup-amount"},{default:l((()=>[u(f((o.options.total_fee/100).toFixed(2)),1)])),_:1})])),_:1}),d(s,{class:"mobile-pay-popup-provider-list"},{default:l((()=>[d(I,null,{default:l((()=>[o.currentProviders.indexOf("wxpay")>-1?(n(),c(B,{key:0,thumb:o.images.wxpay,title:"微信支付",onClick:t[3]||(t[3]=e=>i.createOrder({provider:"wxpay"})),clickable:"",link:""},null,8,["thumb"])):y("",!0),o.currentProviders.indexOf("alipay")>-1?(n(),c(B,{key:1,thumb:o.images.alipay,title:"支付宝",onClick:t[4]||(t[4]=e=>i.createOrder({provider:"alipay"})),clickable:"",link:""},null,8,["thumb"])):y("",!0)])),_:1})])),_:1})])),_:1},8,["style"])])),_:1},512)),d(R,{ref:"qrcodePopup",type:"center","safe-area":!1,animation:!1,"mask-click":!1,onClose:i.clearQrcode},{default:l((()=>[d(s,{class:"qrcode-popup-content"},{default:l((()=>[d(v,{src:o.res.qr_code_image,class:"qrcode-image"},null,8,["src"]),d(s,{class:"qrcode-popup-info"},{default:l((()=>[d(s,null,{default:l((()=>[d(b,{class:"qrcode-popup-info-fee"},{default:l((()=>[u(f((o.options.total_fee/100).toFixed(2)),1)])),_:1}),d(b,null,{default:l((()=>[u("元")])),_:1})])),_:1}),"wxpay"==o.options.provider?(n(),c(s,{key:0},{default:l((()=>[u("请用微信扫码支付")])),_:1})):"alipay"==o.options.provider?(n(),c(s,{key:1},{default:l((()=>[u("请用支付宝扫码支付")])),_:1})):y("",!0)])),_:1}),d(x,{type:"primary",onClick:t[5]||(t[5]=e=>i._getOrder())},{default:l((()=>[u("我已完成支付")])),_:1}),d(s,{class:"qrcode-popup-cancel",onClick:t[6]||(t[6]=e=>i.closePopup("qrcodePopup"))},{default:l((()=>[u("暂不支付")])),_:1})])),_:1})])),_:1},8,["onClose"]),d(R,{ref:"payConfirmPopup",type:"center","safe-area":!1,animation:!1,"mask-click":!1},{default:l((()=>[d(s,{class:"pay-confirm-popup-content"},{default:l((()=>[d(s,{class:"pay-confirm-popup-title"},{default:l((()=>[u("请确认支付是否已完成")])),_:1}),d(s,null,{default:l((()=>[d(x,{type:"primary",onClick:t[7]||(t[7]=e=>i._getOrder())},{default:l((()=>[u("已完成支付")])),_:1})])),_:1}),d(s,{class:"pay-confirm-popup-refresh"},{default:l((()=>[d(x,{type:"default",onClick:t[8]||(t[8]=e=>i._afreshPayment())},{default:l((()=>[u("支付遇到问题，重新支付")])),_:1})])),_:1}),d(s,{class:"pay-confirm-popup-cancel",onClick:t[9]||(t[9]=e=>i.closePopup("payConfirmPopup"))},{default:l((()=>[u("暂不支付")])),_:1})])),_:1})])),_:1},512)])),_:1})}],["__scopeId","data-v-520360ed"]]);const I=b({data:()=>({options:{total_fee:""},insideData:{},adpid:"",return_url:"",main_color:""}),onLoad(e={}){e=JSON.parse(decodeURI(e.options)),this.options=e},onReady(){},onShow(){},onHide(){},methods:{onMounted(e){this.insideData=e},createOrder(e){Object.assign(this.options,e),this.$refs.uniPay.createOrder(this.options)},onSuccess(e){console.log("success: ",e),e.user_order_success&&v({url:`/uni_modules/uni-pay/pages/success/success?out_trade_no=${e.out_trade_no}&order_no=${e.pay_order.order_no}&pay_date=${e.pay_order.pay_date}&total_fee=${e.pay_order.total_fee}&adpid=${this.adpid}&return_url=${this.return_url}&main_color=${this.main_color}`})}},watch:{},computed:{}},[["render",function(e,t,a,r,o,i){const s=g,m=k(p("uni-list-item"),w),h=k(p("uni-list"),C),_=k(p("uni-pay"),B);return n(),c(s,{class:"uni-pay"},{default:l((()=>[o.insideData&&o.insideData.currentProviders?(n(),c(s,{key:0,class:"mobile-pay-popup"},{default:l((()=>[d(s,{class:"mobile-pay-popup-amount-box"},{default:l((()=>[d(s,null,{default:l((()=>[u("待支付金额：")])),_:1}),d(s,{class:"mobile-pay-popup-amount"},{default:l((()=>[u(f((o.options.total_fee/100).toFixed(2)),1)])),_:1})])),_:1}),d(s,{class:"mobile-pay-popup-provider-list"},{default:l((()=>[d(h,null,{default:l((()=>[o.insideData.currentProviders.indexOf("wxpay")>-1?(n(),c(m,{key:0,thumb:o.insideData.images.wxpay,title:"微信支付",onClick:t[0]||(t[0]=e=>i.createOrder({provider:"wxpay"})),clickable:"",link:""},null,8,["thumb"])):y("",!0),o.insideData.currentProviders.indexOf("alipay")>-1?(n(),c(m,{key:1,thumb:o.insideData.images.alipay,title:"支付宝",onClick:t[1]||(t[1]=e=>i.createOrder({provider:"alipay"})),clickable:"",link:""},null,8,["thumb"])):y("",!0)])),_:1})])),_:1})])),_:1})):y("",!0),d(_,{ref:"uniPay","to-success-page":!1,onMounted:i.onMounted,onSuccess:i.onSuccess},null,8,["onMounted","onSuccess"])])),_:1})}],["__scopeId","data-v-f90f06c9"]]);export{I as default};
