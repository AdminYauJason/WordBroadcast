import{_ as e,aa as s,n as t,r as a,a as n,a5 as r,o as l,c as i,w as o,l as p,F as u,h as c,k as g,m as d,t as m,j as f,X as h,v as A,T as _,Y as k,i as x}from"./index-D1p2mCzQ.js";import{_ as v}from"./uni-popup-dialog.ClgX-KdQ.js";let y=()=>console.log("为定义");const C=e({name:"uni-agreements",computed:{agreements(){if(!s.agreements)return[];let{serviceUrl:e,privacyUrl:t}=s.agreements;return[{url:e,title:"用户服务协议"},{url:t,title:"隐私政策条款"}]}},props:{scope:{type:String,default:()=>"register"}},methods:{popupConfirm(){this.isAgree=!0,y()},popup(e){this.needPopupAgreements=!0,this.$nextTick((()=>{e&&(y=e),this.$refs.popupAgreement.open()}))},navigateTo({url:e,title:s}){t({url:"/uni_modules/uni-id-pages/pages/common/webview/webview?url="+e+"&title="+s,success:e=>{},fail:()=>{},complete:()=>{}})},hasAnd:(e,s)=>e.length-1>s,setAgree(e){this.isAgree=!this.isAgree,this.$emit("setAgree",this.isAgree)}},created(){var e,t;this.needAgreements=((null==(t=null==(e=s)?void 0:e.agreements)?void 0:t.scope)||[]).includes(this.scope)},data:()=>({isAgree:!1,needAgreements:!0,needPopupAgreements:!1})},[["render",function(e,s,t,y,C,b){const T=h,w=A,j=_,P=k,$=x,U=a(n("uni-popup-dialog"),v),F=a(n("uni-popup"),r);return b.agreements.length?(l(),i($,{key:0,class:"root"},{default:o((()=>[C.needAgreements?(l(),p(u,{key:0},[c(P,{onChange:b.setAgree},{default:o((()=>[c(j,{class:"checkbox-box"},{default:o((()=>[c(T,{checked:C.isAgree,style:{transform:"scale(0.5)","margin-right":"-6px"}},null,8,["checked"]),c(w,{class:"text"},{default:o((()=>[g("同意")])),_:1})])),_:1})])),_:1},8,["onChange"]),c($,{class:"content"},{default:o((()=>[(l(!0),p(u,null,d(b.agreements,((e,s)=>(l(),i($,{class:"item",key:s},{default:o((()=>[c(w,{class:"agreement text",onClick:s=>b.navigateTo(e)},{default:o((()=>[g(m(e.title),1)])),_:2},1032,["onClick"]),b.hasAnd(b.agreements,s)?(l(),i(w,{key:0,class:"text and",space:"nbsp"},{default:o((()=>[g(" 和 ")])),_:1})):f("",!0)])),_:2},1024)))),128))])),_:1})],64)):f("",!0),C.needAgreements||C.needPopupAgreements?(l(),i(F,{key:1,ref:"popupAgreement",type:"center"},{default:o((()=>[c(U,{confirmText:"同意",onConfirm:b.popupConfirm},{default:o((()=>[c($,{class:"content"},{default:o((()=>[c(w,{class:"text"},{default:o((()=>[g("请先阅读并同意")])),_:1}),(l(!0),p(u,null,d(b.agreements,((e,s)=>(l(),i($,{class:"item",key:s},{default:o((()=>[c(w,{class:"agreement text",onClick:s=>b.navigateTo(e)},{default:o((()=>[g(m(e.title),1)])),_:2},1032,["onClick"]),b.hasAnd(b.agreements,s)?(l(),i(w,{key:0,class:"text and",space:"nbsp"},{default:o((()=>[g(" 和 ")])),_:1})):f("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["onConfirm"])])),_:1},512)):f("",!0)])),_:1})):f("",!0)}],["__scopeId","data-v-2709ff10"]]);export{C as _};
